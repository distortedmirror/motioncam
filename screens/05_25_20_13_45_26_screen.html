<html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="expires" content="-1">
<meta http-equiv="pragma" content="no-cache">
<title>Motion Camera</title>
<style type="text/css">
body {
font-family: Verdana;
text-align: center;
}
video, canvas {

background-color: #999;
}

canvas {
image-rendering: pixelated;
}
</style>
</head>
<body>
<div id="divTitle" style="position: fixed; left: 50%; top: 50%; width: 40%; height: 60px; text-align: center; vertical-align: middle; font-size: 80px; color: gold; font-weight: bold; z-index: 45; margin-top: -160px; margin-left: -24%; font-family: Verdana; opacity: 0.33;">Motion<br>Camera</div>
<div style="justify-content:center;display:flex">
<div id="divCount" style="position:fixed;left:0px;top:0px;width:85px;font-size:50px;color:gold;z-index:40;">1</div>
<img style="display:block;position:fixed;top:0px;height:80%;z-index:100;" id="videoImage">
<div style="display:block;position:fixed;top:0px;height:80%;z-index:108;">
<div style="display:none;color:gold;font-size:18px;position:absolute;width:100%;top:1%;right:1%;z-index:109;pointer-events:none;text-decoration:underline;" id="videoImageX">close</div>
</div>
<div style="pointer-events:none;font-size:41px;display:none;position:fixed;bottom:22%;text-align:center;left:0px;width:100%;z-index:105;color:gold;" id="videoImageTimestamp">4/25/2020 1:45:11 pm</div>
<video style="position:fixed;top:0px;height:80%;" id="video" autoplay=""></video>
</div>
<canvas id="motion" style="position:fixed;top:0px;right:0px;width:85px;" width="64" height="48"></canvas>

<span id="score" style="position:fixed;top:0px;right:0px;font-size:50px;color:gold;">597</span>
<input id="capSize" title="Frame X,Y Size" style="background-color:transparent;position:fixed;bottom:20%;width:85px;left:50%;margin-left:-42px;font-size:50px;color:gold;z-index:10;" type="number" value="96" size="4">
<input id="numberThreshold" name="Change Threshold for Capture" style="background-color:transparent;position:fixed;bottom:20%;width:85px;right:0px;font-size:50px;color:gold;z-index:10;" type="number" value="186" size="4">
<div style="font-size:50px;color:gold;position:fixed;bottom:20%;left:0px;width:85px;z-index:10;"><input name="Front or Back Camera" id="chkCamera" type="checkbox" onchange="setTimeout(function(){DiffCamEngine.requestWebcam();},1000);">F/B</div>
<select id="selectScreen" onchange="var screenURI=this.options[this.selectedIndex].value;if(screenURI!=&quot;&quot;){document.location=/screens/+screenURI;}" size="13" style="position: fixed;z-index: 1000;left: 1%;top: 13%;bottom: 35%;width: 18%;"><option value="05_25_20_13_44_00_screen.html?clear=false&viewonly=true&rand=1590435926" title="05_25_20_13_44_00">05_25_20_13_44_00</option><option value="05_25_20_13_44_19_screen.html?clear=false&viewonly=true&rand=1590435926" title="05_25_20_13_44_19">05_25_20_13_44_19</option><option value="05_25_20_13_44_20_screen.html?clear=false&viewonly=true&rand=1590435926" title="05_25_20_13_44_20">05_25_20_13_44_20</option><option value="05_25_20_13_44_21_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_21">05_25_20_13_44_21</option><option value="05_25_20_13_44_22_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_22">05_25_20_13_44_22</option><option value="05_25_20_13_44_23_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_23">05_25_20_13_44_23</option><option value="05_25_20_13_44_24_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_24">05_25_20_13_44_24</option><option value="05_25_20_13_44_25_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_25">05_25_20_13_44_25</option><option value="05_25_20_13_44_26_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_26">05_25_20_13_44_26</option><option value="05_25_20_13_44_27_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_27">05_25_20_13_44_27</option><option value="05_25_20_13_44_28_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_28">05_25_20_13_44_28</option><option value="05_25_20_13_44_29_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_29">05_25_20_13_44_29</option><option value="05_25_20_13_44_30_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_30">05_25_20_13_44_30</option><option value="05_25_20_13_44_31_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_31">05_25_20_13_44_31</option><option value="05_25_20_13_44_32_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_32">05_25_20_13_44_32</option><option value="05_25_20_13_44_33_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_33">05_25_20_13_44_33</option><option value="05_25_20_13_44_34_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_34">05_25_20_13_44_34</option><option value="05_25_20_13_44_35_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_35">05_25_20_13_44_35</option><option value="05_25_20_13_44_36_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_36">05_25_20_13_44_36</option><option value="05_25_20_13_44_37_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_37">05_25_20_13_44_37</option><option value="05_25_20_13_44_38_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_38">05_25_20_13_44_38</option><option value="05_25_20_13_44_39_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_39">05_25_20_13_44_39</option><option value="05_25_20_13_44_40_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_40">05_25_20_13_44_40</option><option value="05_25_20_13_44_41_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_41">05_25_20_13_44_41</option><option value="05_25_20_13_44_42_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_42">05_25_20_13_44_42</option><option value="05_25_20_13_44_43_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_43">05_25_20_13_44_43</option><option value="05_25_20_13_44_44_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_44">05_25_20_13_44_44</option><option value="05_25_20_13_44_45_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_45">05_25_20_13_44_45</option><option value="05_25_20_13_44_46_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_46">05_25_20_13_44_46</option><option value="05_25_20_13_44_47_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_47">05_25_20_13_44_47</option><option value="05_25_20_13_44_48_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_48">05_25_20_13_44_48</option><option value="05_25_20_13_44_49_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_49">05_25_20_13_44_49</option><option value="05_25_20_13_44_50_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_50">05_25_20_13_44_50</option><option value="05_25_20_13_44_51_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_51">05_25_20_13_44_51</option><option value="05_25_20_13_44_52_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_52">05_25_20_13_44_52</option><option value="05_25_20_13_44_53_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_53">05_25_20_13_44_53</option><option value="05_25_20_13_44_54_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_54">05_25_20_13_44_54</option><option value="05_25_20_13_44_55_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_55">05_25_20_13_44_55</option><option value="05_25_20_13_44_56_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_56">05_25_20_13_44_56</option><option value="05_25_20_13_44_57_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_57">05_25_20_13_44_57</option><option value="05_25_20_13_44_58_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_44_58">05_25_20_13_44_58</option><option value="05_25_20_13_45_00_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_00">05_25_20_13_45_00</option><option value="05_25_20_13_45_01_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_01">05_25_20_13_45_01</option><option value="05_25_20_13_45_02_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_02">05_25_20_13_45_02</option><option value="05_25_20_13_45_03_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_03">05_25_20_13_45_03</option><option value="05_25_20_13_45_04_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_04">05_25_20_13_45_04</option><option value="05_25_20_13_45_05_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_05">05_25_20_13_45_05</option><option value="05_25_20_13_45_07_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_07">05_25_20_13_45_07</option><option value="05_25_20_13_45_08_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_08">05_25_20_13_45_08</option><option value="05_25_20_13_45_10_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_10">05_25_20_13_45_10</option><option value="05_25_20_13_45_11_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_11">05_25_20_13_45_11</option><option value="05_25_20_13_45_12_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_12">05_25_20_13_45_12</option><option value="05_25_20_13_45_14_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_14">05_25_20_13_45_14</option><option value="05_25_20_13_45_15_screen.html?clear=false&viewonly=true&rand=1590435927" title="05_25_20_13_45_15">05_25_20_13_45_15</option><option value="05_25_20_13_45_17_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_17">05_25_20_13_45_17</option><option value="05_25_20_13_45_18_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_18">05_25_20_13_45_18</option><option value="05_25_20_13_45_20_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_20">05_25_20_13_45_20</option><option value="05_25_20_13_45_21_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_21">05_25_20_13_45_21</option><option value="05_25_20_13_45_23_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_23">05_25_20_13_45_23</option><option value="05_25_20_13_45_24_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_24">05_25_20_13_45_24</option><option value="05_25_20_13_45_26_screen.html?clear=false&viewonly=true&rand=1590435928" title="05_25_20_13_45_26">05_25_20_13_45_26</option></select>
<input id="rangeCapture" min="0" max="0" value="0" type="range" style="position:fixed;top:82%;left:1%;width:98%;" oninput="videoImageX.style.display=&quot;block&quot;;videoImageTimestamp.style.display=&quot;block&quot;;videoImage.src=divCapture.children[this.value].src;videoImageTimestamp.innerHTML=divCapture.children[this.value].getAttribute(&quot;title&quot;);videoImage.setAttribute(&quot;style&quot;,&quot;display:block;position:fixed;top:0px;height:80%;z-index:100;border:4px gold outset;&quot;);videoImage.setAttribute(&quot;onclick&quot;,&quot;videoImageX.style.display=&amp;quot;none&amp;quot;;videoImageTimestamp.style.display=&amp;quot;none&amp;quot;;this.style.display=&amp;quot;none&amp;quot;;&quot;);">
<div id="divCapture" style="position:fixed;bottom:1%;height:10%;left:1%;width:98%;overflow:scroll;"><img src="data:image/png;base64,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" title="4/25/2020 1:45:11 pm" style="position:relative;height:45%;width:auto;margin:1px;" onclick="videoImageX.style.display=&quot;block&quot;;videoImageTimestamp.style.display=&quot;block&quot;;videoImage.src=this.src;videoImageTimestamp.innerHTML=this.getAttribute(&quot;title&quot;);videoImage.setAttribute(&quot;style&quot;,&quot;display:block;position:fixed;top:0px;height:80%;z-index:100;border:4px gold outset;&quot;);videoImage.setAttribute(&quot;onclick&quot;,&quot;videoImageX.style.display=&amp;quot;none&amp;quot;;videoImageTimestamp.style.display=&amp;quot;none&amp;quot;;this.style.display=&amp;quot;none&amp;quot;;&quot;);"></div>
<input type="button" value="Clear" style="position:fixed; top:35%; right:1%; z-index:1000;" onclick="postClear();">
<input type="button" value="Save" style="position:fixed; top:45%; right:1%; z-index:1000;" onclick="postScreen();">
<input type="button" value="Refresh" style="position:fixed; top:55%; right:1%; z-index:1000;" onclick="document.location=document.location.toString().substring(0,document.location.toString().lastIndexOf('&amp;rand'))+'&amp;rand='+Math.random();">
<script>
var queryStringParams=getQueryStringParams = query => {
return query
? (/^[?#]/.test(query) ? query.slice(1) : query)
.split('&')
.reduce((params, param) => {
let [key, value] = param.split('=');
params[key] = value ? decodeURIComponent(value.replace(/+/g, ' ')) : '';
return params;
}, {}
)
: {}
};
var WAIT_TIME=4000;
if(queryStringParams(window.location.search)["wait"]!=undefined) {
WAIT_TIME=queryStringParams(window.location.search)["wait"];
}
var POST_CAP_COUNT=100;
if(queryStringParams(window.location.search)["postcount"]!=undefined) {
POST_CAP_COUNT=queryStringParams(window.location.search)["postcount"];
}

function postClear(){
document.xhr=new XMLHttpRequest();
document.xhr.onreadystatechange=function(){
if(document.xhr.readyState==XMLHttpRequest.DONE){
if(document.xhr.status==200){
console.debug("store.pl: cacheCallResults success");
}else{
console.debug('store.pl: Error in cacheCallResults, are you online?');
}
}
};

var svr='localhost';
if(queryStringParams(window.location.search)["server"]!=undefined) {
svr=queryStringParams(window.location.search)["server"];
}
var port='1234';
if(queryStringParams(window.location.search)["port"]!=undefined) {
port=queryStringParams(window.location.search)["port"];
}
document.xhr.open('POST','/cgi-bin/clearScreens.sh',true);
document.xhr.send("");
capCount=0;
document.getElementById('divCount').innerHTML=capCount;
rangeCap.setAttribute('max',capCount-1);
rangeCap.setAttribute('value',capCount-1);
divCapture.innerHTML='';
localStorage.clear();
}
function postScreen(){
if(capCount==0) {return;}
document.xhr=new XMLHttpRequest();
document.xhr.onreadystatechange=function(){
if(document.xhr.readyState==XMLHttpRequest.DONE){
if(document.xhr.status==200){
console.debug("store.pl: cacheCallResults success");
}else{
console.debug('store.pl: Error in cacheCallResults, are you online?');
}
}
};
var svr='localhost';
if(queryStringParams(window.location.search)["server"]!=undefined) {
svr=queryStringParams(window.location.search)["server"];
}
var port='1234';
if(queryStringParams(window.location.search)["port"]!=undefined) {
port=queryStringParams(window.location.search)["port"];
}
document.xhr.open('POST','/cgi-bin/post.sh',true);
document.xhr.send(document.documentElement.outerHTML);
capCount=0;
document.getElementById('divCount').innerHTML=capCount;
rangeCap.setAttribute('max',capCount-1);
rangeCap.setAttribute('value',capCount-1);
divCapture.innerHTML='';
localStorage.clear();
}
var video = document.getElementById('video');
var canvas = document.getElementById('motion');
var score = document.getElementById('score');
var videoImage=document.getElementById('videoImage');
var videoImageTimestamp=document.getElementById('videoImageTimestamp');
var videoImageX=document.getElementById('videoImageX');
var numThreshold= document.getElementById('numberThreshold');
var inputCapSize=document.getElementById('capSize');
var rangeCap=document.getElementById('rangeCapture');
var divCapture = document.getElementById('divCapture');
var capCount=0;
var titleOpacity=1.0;
var divTitle=document.getElementById('divTitle');
var interval=setInterval(function(){divTitle.style.opacity=titleOpacity;titleOpacity-=0.01;if(titleOpacity<=0){clearInterval(interval);}},10);
var cameras=[];
if(queryStringParams(window.location.search)["change"]!=undefined) {
numThreshold.value=queryStringParams(window.location.search)["change"];
}
if(queryStringParams(window.location.search)["size"]!=undefined) {
inputCapSize.value=queryStringParams(window.location.search)["size"];
}
navigator.mediaDevices.enumerateDevices().then(function (devices) {
for(var i = 0; i < devices.length; i ++){
var device = devices[i];
if (device.kind === 'videoinput') {
cameras.push(device.deviceId);
}
};
});
var DiffCamEngine = (function() {
var stream; // stream obtained from webcam
var video; // shows stream
var captureCanvas; // internal canvas for capturing full images from video
var captureContext; // context for capture canvas
var diffCanvas; // internal canvas for diffing downscaled captures
var diffContext; // context for diff canvas
var motionCanvas; // receives processed diff images
var motionContext; // context for motion canvas

var initSuccessCallback; // called when init succeeds
var initErrorCallback; // called when init fails
var startCompleteCallback; // called when start is complete
var captureCallback; // called when an image has been captured and diffed

var captureInterval; // interval for continuous captures
var captureIntervalTime; // time between captures, in ms
var captureWidth; // full captured image width
var captureHeight; // full captured image height
var diffWidth; // downscaled width for diff/motion
var diffHeight; // downscaled height for diff/motion
var isReadyToDiff; // has a previous capture been made to diff against?
var pixelDiffThreshold; // min for a pixel to be considered significant
var scoreThreshold; // min for an image to be considered significant
var includeMotionBox; // flag to calculate and draw motion bounding box
var includeMotionPixels; // flag to create object denoting pixels with motion
function init(options) {
if (!options) {
throw 'No options object provided';
}
var clearPrev=false;
if(queryStringParams(window.location.search)["clear"]!=undefined) {
var qsClear=queryStringParams(window.location.search)["clear"];
if(qsClear=='true'){
clearPrev=true;
} else {
clearPrev=false;
}
} else {
clearPrev=confirm("Clear Previous Recording?")
}
if(clearPrev){
localStorage.clear();
}else{
for(var img in Object.keys(localStorage).sort()){
if(img=='0'){
divCapture.innerHTML=localStorage[img];
}else{
divCapture.innerHTML=localStorage[img]+divCapture.innerHTML;
}
capCount++;
}
rangeCap.setAttribute('oninput','videoImageX.style.display="block";videoImageTimestamp.style.display="block";videoImage.src=divCapture.children[this.value].src;videoImageTimestamp.innerHTML=divCapture.children[this.value].getAttribute("title");videoImage.setAttribute("style","display:block;position:fixed;top:0px;height:80%;z-index:100;border:4px gold outset;");videoImage.setAttribute("onclick","videoImageX.style.display=&quot;none&quot;;videoImageTimestamp.style.display=&quot;none&quot;;this.style.display=&quot;none&quot;;");');
rangeCap.setAttribute('max',capCount-1);
rangeCap.setAttribute('value',capCount-1);
}
// incoming options with defaults
video = options.video || document.createElement('video');
motionCanvas = options.motionCanvas || document.createElement('canvas');
captureIntervalTime = options.captureIntervalTime || 100;
capSize = parseInt(document.getElementById('capSize').value);
captureWidth = options.captureWidth || capSize;
captureHeight = options.captureHeight || capSize;
diffWidth = options.diffWidth || 64;
diffHeight = options.diffHeight || 48;
pixelDiffThreshold = options.pixelDiffThreshold || 32;
scoreThreshold = options.scoreThreshold || 16;
includeMotionBox = options.includeMotionBox || false;
includeMotionPixels = options.includeMotionPixels || false;

// callbacks
initSuccessCallback = options.initSuccessCallback || function() {};
initErrorCallback = options.initErrorCallback || function() {};
startCompleteCallback = options.startCompleteCallback || function() {};
captureCallback = options.captureCallback || function() {};

// non-configurable
captureCanvas = document.createElement('canvas');
diffCanvas = document.createElement('canvas');
isReadyToDiff = false;

// prep video
video.autoplay = true;

// prep capture canvas
captureCanvas.width = captureWidth;
captureCanvas.height = captureHeight;
captureContext = captureCanvas.getContext('2d');

// prep diff canvas
diffCanvas.width = diffWidth;
diffCanvas.height = diffHeight;
diffContext = diffCanvas.getContext('2d');

// prep motion canvas
motionCanvas.width = diffWidth;
motionCanvas.height = diffHeight;
motionContext = motionCanvas.getContext('2d');

if(queryStringParams(window.location.search)["viewonly"]!=undefined) {
var qsviewonly=queryStringParams(window.location.search)["viewonly"];
if(qsviewonly=='true'){
// setInterval(function(){document.location=document.location.toString().substring(0,document.location.toString().lastIndexOf('&rand'))+'&rand='+Math.random();},WAIT_TIME);
}else{
requestWebcam();
}
}else{
requestWebcam();
}
}

function requestWebcam() {
if(window.stream){
window.stream.getVideoTracks()[0].stop();
}
var chkCamera=document.getElementById('chkCamera');
if(queryStringParams(window.location.search)["cameraDirection"]!=undefined && queryStringParams(window.location.search)["cameraDirection"].toLowerCase() == 'front'){
chkCamera.checked=true;
}
if(queryStringParams(window.location.search)["cameraDirection"]!=undefined && queryStringParams(window.location.search)["cameraDirection"].toLowerCase() == 'back'){
chkCamera.checked=false;
}
var mode=!chkCamera.checked?"environment":"user";
var devId=chkCamera.checked?cameras[0]:cameras[cameras.length>1?1:0];
// var vidcon={audio:false, video:{deviceId:{"exact":devId}},
var vidcon={audio:false, video:{facingMode:mode},
width: captureWidth, height: captureHeight };
var constraints=vidcon;
if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
navigator.mediaDevices.getUserMedia(constraints)
.then(initSuccess)
.catch(initError);
}
}

function initSuccess(requestedStream) {
stream = requestedStream;
video.srcObject = stream;//TESTING
// video.play(); //TESTING
const track = stream.getVideoTracks()[0];
//Create image capture object and get camera capabilities
const imageCapture = new ImageCapture(track)
const photoCapabilities = imageCapture.getPhotoCapabilities().then(() => {
try{
if(queryStringParams(window.location.search)["torch"]!=undefined && queryStringParams(window.location.search)["torch"].toLowerCase() == 'on'){
track.applyConstraints({
advanced: [{torch: true}]
});
}
}catch(e){;}
});
initSuccessCallback();
}

function initError(error) {
console.log(error);
initErrorCallback();
}

function start() {
if (!stream) {
throw 'Cannot start after init fail';
}

// streaming takes a moment to start
video.addEventListener('canplay', startComplete);
video.srcObject = stream;
video.play(); //TESTING
}

function startComplete() {
video.removeEventListener('canplay', startComplete);
captureInterval = setInterval(capture, captureIntervalTime);
startCompleteCallback();
}

function stop() {
clearInterval(captureInterval);
video.src = '';
motionContext.clearRect(0, 0, diffWidth, diffHeight);
isReadyToDiff = false;
}

function capture() {
// save a full-sized copy of capture
capSize = parseInt(document.getElementById('capSize').value);
captureWidth = capSize;
captureHeight =capSize;
captureCanvas.width = captureWidth;
captureCanvas.height = captureHeight;
captureContext.drawImage(video, 0, 0, captureWidth, captureHeight);
var captureImageData = captureContext.getImageData(0, 0, captureWidth, captureHeight);

// diff current capture over previous capture, leftover from last time
diffContext.globalCompositeOperation = 'difference';
diffContext.drawImage(video, 0, 0, diffWidth, diffHeight);
var diffImageData = diffContext.getImageData(0, 0, diffWidth, diffHeight);

if (isReadyToDiff) {
var diff = processDiff(diffImageData);

motionContext.putImageData(diffImageData, 0, 0);
if (diff.motionBox) {
motionContext.strokeStyle = '#fff';
motionContext.strokeRect(
diff.motionBox.x.min + 0.5,
diff.motionBox.y.min + 0.5,
diff.motionBox.x.max - diff.motionBox.x.min,
diff.motionBox.y.max - diff.motionBox.y.min
);
}
captureCallback({
imageData: captureImageData,
score: diff.score,
hasMotion: diff.score >= scoreThreshold,
motionBox: diff.motionBox,
motionPixels: diff.motionPixels,
getURL: function() {
return getCaptureUrl(this.imageData);
},
checkMotionPixel: function(x, y) {
return checkMotionPixel(this.motionPixels, x, y)
}
});
}

// draw current capture normally over diff, ready for next time
diffContext.globalCompositeOperation = 'source-over';
diffContext.drawImage(video, 0, 0, diffWidth, diffHeight);
isReadyToDiff = true;
}

function processDiff(diffImageData) {
var rgba = diffImageData.data;

// pixel adjustments are done by reference directly on diffImageData
var score = 0;
var motionPixels = includeMotionPixels ? [] : undefined;
var motionBox = undefined;
for (var i = 0; i < rgba.length; i += 4) {
var pixelDiff = rgba[i] #index.html# 000-default.conf README.md camera.sh chromiumview.sh clearScreens.sh default-ssl.conf documentation error.log favicon.ico index.html index.html.bak index.html~ installwww.sh integrationscripts logout.out loopPostClear.sh loopPostReceive.sh post.sh post.sh~ postReceive.sh postRecieve.cgi response.sh screen.html screen.sh screens start.sh www.sh 0.3 + rgba[i + 1] #index.html# 000-default.conf README.md camera.sh chromiumview.sh clearScreens.sh default-ssl.conf documentation error.log favicon.ico index.html index.html.bak index.html~ installwww.sh integrationscripts logout.out loopPostClear.sh loopPostReceive.sh post.sh post.sh~ postReceive.sh postRecieve.cgi response.sh screen.html screen.sh screens start.sh www.sh 0.6 + rgba[i + 2] #index.html# 000-default.conf README.md camera.sh chromiumview.sh clearScreens.sh default-ssl.conf documentation error.log favicon.ico index.html index.html.bak index.html~ installwww.sh integrationscripts logout.out loopPostClear.sh loopPostReceive.sh post.sh post.sh~ postReceive.sh postRecieve.cgi response.sh screen.html screen.sh screens start.sh www.sh 0.1;
var normalized = Math.min(255, pixelDiff #index.html# 000-default.conf README.md camera.sh chromiumview.sh clearScreens.sh default-ssl.conf documentation error.log favicon.ico index.html index.html.bak index.html~ installwww.sh integrationscripts logout.out loopPostClear.sh loopPostReceive.sh post.sh post.sh~ postReceive.sh postRecieve.cgi response.sh screen.html screen.sh screens start.sh www.sh (255 / pixelDiffThreshold));
rgba[i] = 0;
rgba[i + 1] = normalized;
rgba[i + 2] = 0;

if (pixelDiff >= pixelDiffThreshold) {
score++;
coords = calculateCoordinates(i / 4);

if (includeMotionBox) {
motionBox = calculateMotionBox(motionBox, coords.x, coords.y);
}

if (includeMotionPixels) {
motionPixels = calculateMotionPixels(motionPixels, coords.x, coords.y, pixelDiff);
}

}
}

return {
score: score,
motionBox: score > scoreThreshold ? motionBox : undefined,
motionPixels: motionPixels
};
}

function calculateCoordinates(pixelIndex) {
return {
x: pixelIndex % diffWidth,
y: Math.floor(pixelIndex / diffWidth)
};
}

function calculateMotionBox(currentMotionBox, x, y) {
// init motion box on demand
var motionBox = currentMotionBox || {
x: { min: coords.x, max: x },
y: { min: coords.y, max: y }
};

motionBox.x.min = Math.min(motionBox.x.min, x);
motionBox.x.max = Math.max(motionBox.x.max, x);
motionBox.y.min = Math.min(motionBox.y.min, y);
motionBox.y.max = Math.max(motionBox.y.max, y);

return motionBox;
}

function calculateMotionPixels(motionPixels, x, y, pixelDiff) {
motionPixels[x] = motionPixels[x] || [];
motionPixels[x][y] = true;

return motionPixels;
}

function getCaptureUrl(captureImageData) {
// may as well borrow captureCanvas
captureContext.putImageData(captureImageData, 0, 0);
return captureCanvas.toDataURL();
}

function checkMotionPixel(motionPixels, x, y) {
return motionPixels && motionPixels[x] && motionPixels[x][y];
}

function getPixelDiffThreshold() {
return pixelDiffThreshold;
}

function setPixelDiffThreshold(val) {
pixelDiffThreshold = val;
}

function getScoreThreshold() {
return scoreThreshold;
}

function setScoreThreshold(val) {
scoreThreshold = val;
}

return {
// public getters/setters
getPixelDiffThreshold: getPixelDiffThreshold,
setPixelDiffThreshold: setPixelDiffThreshold,
getScoreThreshold: getScoreThreshold,
setScoreThreshold: setScoreThreshold,

// public functions
init: init,
start: start,
stop: stop,
requestWebcam: requestWebcam
};
})();
function initSuccess() {
DiffCamEngine.start();
}

function initError() {
alert('Something went wrong.');
}

function capture(payload) {
var sc = payload.score;
score.textContent = payload.score;
if(sc>=numThreshold.value){
var img = document.createElement("img");
img.src = payload.getURL();
function formatAMPM(date) { // This is to display 12 hour format like you asked
var hours = date.getHours();
var minutes = date.getMinutes();
var ampm = hours >= 12 ? 'pm' : 'am';
hours = hours % 12;
hours = hours ? hours : 12; // the hour '0' should be '12'
minutes = minutes < 10 ? '0'+minutes : minutes;
var secs=date.getSeconds();
var strTime = hours + ':' + minutes + ':'+(secs<10?'0':'')+secs+' '+ ampm;
return strTime;
}
var myDate = new Date(Date.now());
var displayDate = myDate.getMonth()+ '/' +myDate.getDate()+ '/' +myDate.getFullYear()+ ' ' +formatAMPM(myDate);
videoImageTimestamp.innerHTML=displayDate;
img.setAttribute('title',displayDate);
img.setAttribute('style','position:relative;height:45%;width:auto;margin:1px;');
rangeCap.setAttribute('oninput','videoImageX.style.display="block";videoImageTimestamp.style.display="block";videoImage.src=divCapture.children[this.value].src;videoImageTimestamp.innerHTML=divCapture.children[this.value].getAttribute("title");videoImage.setAttribute("style","display:block;position:fixed;top:0px;height:80%;z-index:100;border:4px gold outset;");videoImage.setAttribute("onclick","videoImageX.style.display=&quot;none&quot;;videoImageTimestamp.style.display=&quot;none&quot;;this.style.display=&quot;none&quot;;");');
img.setAttribute('onclick','videoImageX.style.display="block";videoImageTimestamp.style.display="block";videoImage.src=this.src;videoImageTimestamp.innerHTML=this.getAttribute("title");videoImage.setAttribute("style","display:block;position:fixed;top:0px;height:80%;z-index:100;border:4px gold outset;");videoImage.setAttribute("onclick","videoImageX.style.display=&quot;none&quot;;videoImageTimestamp.style.display=&quot;none&quot;;this.style.display=&quot;none&quot;;");');
if(divCapture.childNodes.length==0){
divCapture.append(img);
}else{
divCapture.insertBefore(img,divCapture.childNodes[0]);
}
localStorage.setItem(divCapture.childNodes.length-1,img.outerHTML);
capCount++;
document.getElementById('divCount').innerHTML=capCount;
rangeCap.setAttribute('max',capCount-1);
rangeCap.setAttribute('value',capCount-1);
if(capCount>=POST_CAP_COUNT){
postScreen();
}
}
}
DiffCamEngine.init({
video: video,
motionCanvas: canvas,
initSuccessCallback: initSuccess,
initErrorCallback: initError,
captureCallback: capture
});
</script>


</body></html>
